# Production Environment Configuration for Learning Platform on GCP
# This file contains production-ready environment variables

# Application Configuration
NODE_ENV=production
APP_NAME="Learning Platform"
APP_URL=https://learning-platform.example.com
PORT=3000
HOSTNAME=0.0.0.0

# Database Configuration (set via Secret Manager)
# DATABASE_URL=postgresql://postgres:password@host:5432/learning_platform?sslmode=require

# Authentication & Security (set via Secret Manager)
# NEXTAUTH_URL=https://learning-platform.example.com
# NEXTAUTH_SECRET=your-nextauth-secret
# JWT_SECRET=your-jwt-secret

# Redis Configuration (set via Secret Manager)
# REDIS_URL=redis://username:password@host:port

# Google Cloud Storage
GCS_BUCKET_NAME=learning-platform-prod-media-assets
GCS_PROJECT_ID=learning-platform-prod
STORAGE_TYPE=gcs

# Email Configuration (using SendGrid)
EMAIL_PROVIDER=sendgrid
# SENDGRID_API_KEY=your-sendgrid-api-key (set via Secret Manager)
FROM_EMAIL=noreply@learning-platform.example.com
SUPPORT_EMAIL=support@learning-platform.example.com

# OAuth Providers (set sensitive values via Secret Manager)
GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret (set via Secret Manager)

GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret (set via Secret Manager)

# Microsoft Azure AD
AZURE_AD_CLIENT_ID=your-azure-client-id
# AZURE_AD_CLIENT_SECRET=your-azure-client-secret (set via Secret Manager)
AZURE_AD_TENANT_ID=your-azure-tenant-id

# SAML Configuration
SAML_ENABLED=false
# SAML_CERT=your-saml-certificate (set via Secret Manager)
# SAML_PRIVATE_KEY=your-saml-private-key (set via Secret Manager)

# OpenAI Configuration (for AI features)
# OPENAI_API_KEY=your-openai-api-key (set via Secret Manager)
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

# Monitoring & Logging
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# Google Cloud Monitoring
GOOGLE_CLOUD_PROJECT=learning-platform-prod
GOOGLE_APPLICATION_CREDENTIALS=/var/secrets/google/credentials.json

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,video/mp4,video/webm

# Video Processing
ENABLE_VIDEO_PROCESSING=true
VIDEO_QUALITY_LEVELS=240p,480p,720p,1080p
VIDEO_FORMATS=mp4,webm

# Search Configuration
SEARCH_PROVIDER=algolia
# ALGOLIA_APP_ID=your-algolia-app-id (set via Secret Manager)
# ALGOLIA_API_KEY=your-algolia-api-key (set via Secret Manager)

# Analytics
ANALYTICS_ENABLED=true
GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID

# Cache Configuration
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER_DATA=1800
CACHE_TTL_STATIC_CONTENT=86400

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_SOCIAL_LOGIN=true
ENABLE_MFA=true
ENABLE_API_DOCS=true
ENABLE_ADMIN_PANEL=true
ENABLE_ANALYTICS_DASHBOARD=true

# Security Headers
ENABLE_SECURITY_HEADERS=true
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'
STRICT_TRANSPORT_SECURITY=max-age=31536000; includeSubDomains
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff

# Session Configuration
SESSION_DURATION=86400
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# CORS Configuration
CORS_ORIGIN=https://learning-platform.example.com
CORS_CREDENTIALS=true

# Health Check Configuration
HEALTH_CHECK_PATH=/api/health
HEALTH_CHECK_TIMEOUT=5000

# Build Configuration
NEXT_TELEMETRY_DISABLED=1
SKIP_ENV_VALIDATION=false

# Production Optimizations
OPTIMIZE_IMAGES=true
ENABLE_COMPRESSION=true
ENABLE_MINIFICATION=true
BUNDLE_ANALYZER=false

# Backup Configuration
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# Scaling Configuration
AUTO_SCALING_ENABLED=true
MIN_INSTANCES=1
MAX_INSTANCES=10
TARGET_CPU_UTILIZATION=70

# Error Tracking
ERROR_TRACKING_ENABLED=true
# SENTRY_DSN=your-sentry-dsn (set via Secret Manager)

# API Configuration
API_RATE_LIMIT=1000
API_TIMEOUT=30000
API_VERSION=v1

# Notification Configuration
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_SMS_NOTIFICATIONS=false

# Content Delivery
CDN_ENABLED=true
CDN_DOMAIN=cdn.learning-platform.example.com

# Localization
DEFAULT_LOCALE=en
SUPPORTED_LOCALES=en,es,fr,de,ja,zh

# Timezone
DEFAULT_TIMEZONE=UTC

# Development & Debug (disabled in production)
DEBUG=false
ENABLE_SWAGGER=false
ENABLE_GRAPHQL_PLAYGROUND=false